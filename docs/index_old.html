<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>GITSTER</title>
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#060814" />

  <!--
    ASSETS (obligatorio)
    Dentro de `docs/assets/` (al mismo nivel que este `index.html`) pon:
      - gitster_bg.png    (fondo)
      - gitster_hero.png  (hero: tÃ­tulo + subtÃ­tulo)

    Nota: si el mÃ³vil te cachea, en este HTML ya hay `?v=1` en las rutas.
  -->

  <style>
    :root{
      --ink: #eaf0ff;
      --muted: rgba(234,240,255,.78);
      --accent: #20d3ff;
      --magenta: #ff2bd6;
      --panel: rgba(3,7,18,.52);
      --panel2: rgba(7,12,30,.66);
      --stroke: rgba(255,255,255,.10);
      --stroke2: rgba(255,255,255,.14);
      --shadow: 0 16px 60px rgba(0,0,0,.55);
      --blur: 18px;
      --radius: 28px;
      --radius2: 34px;
      --max: 980px;
      --gap: 18px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color: var(--ink);
      background: #050614;
      overflow-x:hidden;
    }

    /* Fondo */
    .bg{
      position:fixed; inset:0;
      background:
        radial-gradient(1200px 800px at 50% -10%, rgba(255,43,214,.18), transparent 60%),
        radial-gradient(900px 600px at 90% 10%, rgba(32,211,255,.12), transparent 55%),
        url("assets/gitster_bg.png?v=1") center/cover no-repeat;
      filter: saturate(1.05) contrast(1.05);
      transform: translateZ(0);
      z-index:-2;
    }
    .bg::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(5,6,20,.78), rgba(5,6,20,.82));
      z-index:-1;
    }

    /* LÃ­neas superiores tipo neÃ³n */
    .top-bars{
      position:sticky; top:0;
      z-index:20;
      height: 10px;
      background:
        linear-gradient(90deg,
          rgba(255,43,214,.0),
          rgba(255,43,214,.8),
          rgba(32,211,255,.8),
          rgba(255,43,214,.8),
          rgba(255,43,214,.0)
        );
      box-shadow: 0 8px 30px rgba(0,0,0,.5);
    }

    /* Contenedor */
    .wrap{
      width:min(var(--max), calc(100% - 28px));
      margin: 0 auto;
      padding: 18px 0 120px;
      display:flex;
      flex-direction:column;
      gap: var(--gap);
    }

    /* HERO (imagen combinada: tÃ­tulo + subtÃ­tulo) */
    .hero{
      padding: 22px 0 12px;
    }
    .hero-inner{
      width:min(var(--max), calc(100% - 28px));
      margin: 0 auto;
      padding: 14px 16px;
      border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      box-shadow: var(--shadow);
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .hero-img{
      width: min(860px, 100%);
      height: auto;
      display:block;
      image-rendering: auto;
      filter: drop-shadow(0 18px 30px rgba(0,0,0,.45));
    }

    /* CTA grande a Cheatsheet (debajo del hero) */
    .top-cta{
      width:min(var(--max), calc(100% - 28px));
      margin: 0 auto;
      padding: 0 0 4px;
      display:flex;
      justify-content:center;
    }
    .cheat-cta{
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 12px;
      width: 100%;
      max-width: 720px;
      padding: 16px 18px;
      border-radius: 999px;
      text-decoration:none;
      color: var(--ink);
      font-weight: 900;
      font-size: clamp(18px, 4.4vw, 30px);
      letter-spacing: .2px;
      background:
        radial-gradient(900px 220px at 50% 0%, rgba(255,43,214,.26), rgba(32,211,255,.10) 52%, rgba(7,12,30,.66) 100%);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 18px 50px rgba(0,0,0,.55);
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      transition: transform .15s ease, filter .15s ease;
    }
    .cheat-cta:active{ transform: scale(.99); }
    .cheat-cta:hover{ filter: brightness(1.05); }

    .accordion{
      display:flex;
      flex-direction:column;
      gap: 14px;
    }

    /* Panels (details) */
    details.panel{
      border-radius: var(--radius2);
      background: linear-gradient(180deg, var(--panel2), rgba(2,6,16,.40));
      border: 1px solid var(--stroke);
      box-shadow: 0 22px 55px rgba(0,0,0,.55);
      overflow:hidden;
    }

    details.panel.featured{
      background: radial-gradient(900px 300px at 10% 0%, rgba(255,43,214,.20), rgba(7,12,30,.70) 55%, rgba(2,6,16,.45) 100%);
      border-color: rgba(255,43,214,.20);
    }

    summary{
      list-style:none;
      cursor:pointer;
      user-select:none;
      padding: 20px 22px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 16px;
      position:relative;
    }
    summary::-webkit-details-marker{ display:none; }

    .sum-title{
      display:flex;
      align-items:center;
      gap: 14px;
      font-weight: 900;
      letter-spacing: .5px;
      text-transform: uppercase;
      color: var(--accent);
      font-size: clamp(26px, 6.2vw, 44px);
      line-height: 1.02;
      text-shadow: 0 0 24px rgba(32,211,255,.18);
    }
    .kicker{
      color: var(--accent);
    }

    .caret{
      width: 52px;
      height: 52px;
      border-radius: 999px;
      display:grid;
      place-items:center;
      background: rgba(0,0,0,.28);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: inset 0 0 0 2px rgba(255,255,255,.03);
      font-size: 22px;
      color: rgba(255,255,255,.88);
      transition: transform .22s ease;
      flex: 0 0 auto;
    }
    details.panel.is-open .caret{
      transform: rotate(180deg);
    }

    .panel__content{
      overflow:hidden;
      max-height: 0;
      transition: max-height 280ms ease;
    }
    details.panel.is-open .panel__content{
      /* el JS pone max-height dinÃ¡mico */
    }
    .content-inner{
      padding: 4px 22px 22px;
    }

    .content-inner p{
      margin: 10px 0;
      color: rgba(234,240,255,.88);
      font-size: 18px;
      line-height: 1.55;
    }
    .content-inner ul{
      margin: 10px 0 0;
      padding-left: 20px;
    }
    .content-inner li{
      margin: 10px 0;
      color: rgba(234,240,255,.90);
      font-size: 18px;
      line-height: 1.5;
    }

    .lead{
      font-size: 19px;
      color: rgba(234,240,255,.92);
    }

    .callout{
      margin-top: 14px;
      padding: 14px 14px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.20);
    }
    .callout.mag{
      border-color: rgba(255,43,214,.22);
      box-shadow: 0 0 0 1px rgba(255,43,214,.05) inset;
    }
    .callout h4{
      margin: 0 0 6px;
      font-size: 18px;
      color: rgba(255,255,255,.96);
    }
    .callout strong{
      color: rgba(255,255,255,.98);
    }

    .mono{
      font-variant-numeric: tabular-nums;
      font-feature-settings: "tnum";
      padding: 2px 6px;
      border-radius: 8px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.08);
    }

    /* FAB Cheatsheet */
    .fab{
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 60;
      text-decoration:none;
      color: var(--ink);
      padding: 14px 18px;
      border-radius: 999px;
      background:
        radial-gradient(500px 200px at 20% 0%, rgba(255,43,214,.26), rgba(7,12,30,.78) 60%);
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: 0 18px 50px rgba(0,0,0,.55);
      font-weight: 800;
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
    }

    /* accesibilidad */
    .sr-only{
      position:absolute !important;
      width:1px;height:1px;
      padding:0;margin:-1px;
      overflow:hidden;clip:rect(0,0,0,0);
      white-space:nowrap;border:0;
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true"></div>
  <div class="top-bars" aria-hidden="true"></div>

  <header class="hero">
    <div class="hero-inner">
      <h1 class="sr-only">GITSTER â€” Â¡mÃ¡s guay, mÃ¡s genial y con mÃ¡s gambling!</h1>
      <img
        class="hero-img"
        src="assets/gitster_hero.png?v=1"
        alt="GITSTER â€” Â¡mÃ¡s guay, mÃ¡s genial y con mÃ¡s gambling!"
        loading="eager"
        decoding="async"
      />
    </div>
  </header>

  <div class="top-cta">
    <a class="cheat-cta" href="#cheatsheet">Ir a Cheatsheet <span aria-hidden="true">ğŸ§ </span></a>
  </div>

  <main id="contenido" class="wrap">
    <section class="accordion" aria-label="Reglamento GITSTER">

      <details class="panel" id="sec-1">
        <summary aria-label="Abrir secciÃ³n Â¿QUÃ‰ ES ESTO?">
          <span class="sum-title"><span class="kicker">Â¿QUÃ‰ ES ESTO?</span> ğŸª©</span>
          <span class="caret" aria-hidden="true">â–¾</span>
        </summary>
        <div class="panel__content">
          <div class="content-inner">
            <p class="lead"><strong>GITSTER</strong> es un juego de mesa de mÃºsica inspirado en Hipster (sÃ­, con â€œGâ€) para gente que:</p>
            <ul>
              <li>quiere poner canciones y vacilar un rato ğŸ§</li>
              <li>cree que sabe mÃ¡s de mÃºsica que sus colegas ğŸ¶</li>
              <li>y, sobre todo, quiere aÃ±adir una capa extra de <strong>apuestas y fichas</strong> ğŸ°ğŸ’°</li>
            </ul>
            <div class="callout" role="note" aria-label="Nota de tono">
              <h4>Importante</h4>
              <p>Esto es un reglamento de nicho. Si algo no se entiende a la primera, no pasa nada: se aprende jugando.</p>
            </div>
          </div>
        </div>
      </details>

      <details class="panel" id="sec-2">
        <summary aria-label="Abrir secciÃ³n Â¿QUÃ‰ SE NECESITA PARA JUGAR?">
          <span class="sum-title"><span class="kicker">Â¿QUÃ‰ SE NECESITA PARA JUGAR?</span> ğŸ§©</span>
          <span class="caret" aria-hidden="true">â–¾</span>
        </summary>
        <div class="panel__content">
          <div class="content-inner">
            <ul>
              <li>Un mÃ³vil con Spotify (o similar) para reproducir la canciÃ³n ğŸ“±</li>
              <li>Las cartas de canciones (el mazo) ğŸ´</li>
              <li>Fichas (monedas, fichas de pÃ³ker, lo que sea) ğŸ’°</li>
              <li>El Marcador de Prioridad de Apuestas (puede ser un objeto cualquiera que rote) ğŸ”„</li>
              <li>Ganas de discutir si la canciÃ³n es de 2011 o 2012 ğŸ¤¬</li>
            </ul>
          </div>
        </div>
      </details>

      <details class="panel" id="sec-3">
        <summary aria-label="Abrir secciÃ³n 1) OBJETIVO">
          <span class="sum-title"><span class="kicker">1) OBJETIVO</span> ğŸ¯</span>
          <span class="caret" aria-hidden="true">â–¾</span>
        </summary>
        <div class="panel__content">
          <div class="content-inner">
            <p>Gana quien consiga colocar <strong>15 cartas</strong> en su Timeline, <strong>pero ojo</strong>:</p>
            <ul>
              <li>se comprueba la victoria <strong>AL FINAL DE LA RONDA</strong> â†©ï¸</li>
              <li>si dos (o mÃ¡s) llegan a 15 en la misma ronda, gana quien tenga mÃ¡s cartas ğŸ</li>
            </ul>
          </div>
        </div>
      </details>

      <details class="panel" id="sec-4">
        <summary aria-label="Abrir secciÃ³n 2) PREPARACIÃ“N">
          <span class="sum-title"><span class="kicker">2) PREPARACIÃ“N</span> âœ…</span>
          <span class="caret" aria-hidden="true">â–¾</span>
        </summary>
        <div class="panel__content">
          <div class="content-inner">
            <ul>
              <li>Barajad el mazo ğŸ´</li>
              <li>Repartid <strong>3 fichas</strong> a cada jugador ğŸ’°ğŸ’°ğŸ’°</li>
              <li>Poned el Marcador de Prioridad de Apuestas delante de alguien (por ejemplo, el que empiece) ğŸ”„</li>
              <li>Decid quiÃ©n empieza como DJ: <strong>el de la canciÃ³n mÃ¡s antigua</strong> ğŸ•°ï¸</li>
            </ul>
          </div>
        </div>
      </details>

      <details class="panel" id="sec-5">
        <summary aria-label="Abrir secciÃ³n 3) TURNO DEL DJ">
          <span class="sum-title"><span class="kicker">3) TURNO DEL DJ</span> ğŸ§</span>
          <span class="caret" aria-hidden="true">â–¾</span>
        </summary>
        <div class="panel__content">
          <div class="content-inner">
            <p>El DJ:</p>
            <ul>
              <li>roba una carta sin mirarla ğŸƒ</li>
              <li>pone la canciÃ³n en Spotify y deja escuchar hasta el estribillo (incluido) â³</li>
              <li>luego decide si hace <strong>Re-roll</strong> (cuesta 1 ficha, una vez por turno) ğŸ²</li>
              <li>y, finalmente, coloca la carta boca abajo donde crea en su Timeline ğŸ§ </li>
            </ul>
          </div>
        </div>
      </details>

      <details class="panel" id="sec-6">
        <summary aria-label="Abrir secciÃ³n 4) RONDA DE APUESTAS">
          <span class="sum-title"><span class="kicker">4) RONDA DE APUESTAS</span> ğŸ°</span>
          <span class="caret" aria-hidden="true">â–¾</span>
        </summary>
        <div class="panel__content">
          <div class="content-inner">
            <p>Tras colocar la carta, se abre una ronda de apuestas:</p>
            <ul>
              <li>se apuesta en orden empezando por quien tenga el Marcador de Prioridad de Apuestas ğŸ”„</li>
              <li>se apuesta en sentido antihorario (a la derecha) â¡ï¸</li>
              <li>cada jugador apuesta <strong>1 ficha</strong> ğŸ’°</li>
              <li>y elige <strong>1 categorÃ­a</strong> (sin repetir elecciÃ³n) ğŸš«ğŸ°</li>
            </ul>
            <div class="callout mag" role="note" aria-label="Nota sobre fallar apuesta">
              <h4>Si fallasâ€¦</h4>
              <p>Si fallas (al menos) un artista, pierdes la apuesta â˜ ï¸</p>
            </div>
          </div>
        </div>
      </details>

      <details class="panel" id="sec-7">
        <summary aria-label="Abrir secciÃ³n 5) RESOLUCIÃ“N DEL TURNO Y PAGOS DE APUESTAS">
          <span class="sum-title"><span class="kicker">5) RESOLUCIÃ“N DEL TURNO Y PAGOS DE APUESTAS</span> ğŸ’µ</span>
          <span class="caret" aria-hidden="true">â–¾</span>
        </summary>
        <div class="panel__content">
          <div class="content-inner">
            <p>Se revela la carta y se comprueba si la colocaciÃ³n es correcta.</p>
            <ul>
              <li>Si el DJ acierta, se queda la carta ğŸŸ¢</li>
              <li>Si falla, la carta se descarta ğŸ”´</li>
              <li>Se resuelven las apuestas: quien acierte cobra fichas ğŸ’°</li>
              <li>Si alguien llega al lÃ­mite de fichas (10), no puede acumular mÃ¡s âš ï¸</li>
            </ul>
          </div>
        </div>
      </details>

      <details class="panel" id="sec-8">
        <summary aria-label="Abrir secciÃ³n 6) FIN DE LA PARTIDA">
          <span class="sum-title"><span class="kicker">6) FIN DE LA PARTIDA</span> ğŸ</span>
          <span class="caret" aria-hidden="true">â–¾</span>
        </summary>
        <div class="panel__content">
          <div class="content-inner">
            <ul>
              <li>El puesto de DJ rota a la derecha al acabar un turno â¡ï¸</li>
              <li>El Marcador de Prioridad de Apuestas rota uno (o mÃ¡s) puestos en sentido antihorario ğŸ”„ğŸ”„</li>
              <li>Se gana al llegar a 15 cartas en la Timeline <strong>AL FINAL DE LA RONDA</strong> â†©ï¸</li>
            </ul>
          </div>
        </div>
      </details>

      <details id="cheatsheet" class="panel featured">
        <summary aria-label="Abrir secciÃ³n CHEATSHEET">
          <span class="sum-title"><span class="kicker">CHEATSHEET</span> ğŸ§ </span>
          <span class="caret" aria-hidden="true">â–¾</span>
        </summary>
        <div class="panel__content">
          <div class="content-inner">
            <ul>
              <li>Empieza el de la canciÃ³n mÃ¡s antigua y el Marcador de Prioridad de Apuestas empieza a su derecha â–¶ï¸</li>
              <li>Fichas iniciales: <span class="mono">3</span> ğŸ’°ğŸ’°ğŸ’°</li>
              <li>LÃ­mite de fichas: <span class="mono">10</span> âš ï¸</li>
              <li>La canciÃ³n se puede escuchar hasta el estribillo (incluido) â³</li>
              <li>Re-roll: cuesta <span class="mono">1</span> ficha y se puede hacer sÃ³lo una vez por turno ğŸ²</li>
              <li>Coste de comprar cartas: <span class="mono">5 / 6 / 7â€¦</span> ğŸ’¸</li>
              <li><strong>NO SE PUEDE COMPRAR</strong> si vas primero (ni empatado primero) ğŸ‘‘â›”</li>
              <li>Apuestas en orden y en sentido antihorario (a la derecha): <span class="mono">1</span> ficha, <span class="mono">1</span> categorÃ­a, y sin repetir elecciÃ³n ğŸš«ğŸ°</li>
              <li>Si fallas (al menos) un artista, pierdes la apuesta â˜ ï¸</li>
              <li>El puesto de DJ rota a la derecha al acabar un turno â¡ï¸</li>
              <li>El Marcador de Prioridad de Apuestas rota uno (o mÃ¡s) puestos en sentido antihorario ğŸ”„ğŸ”„</li>
              <li>Se gana al llegar a <span class="mono">15</span> cartas en la Timeline <strong>AL FINAL DE LA RONDA</strong> â†©ï¸</li>
            </ul>
          </div>
        </div>
      </details>

      <details class="panel" id="fuck">
        <summary aria-label="Abrir secciÃ³n FUCK (Frequently Usked CKuestions)">
          <span class="sum-title"><span class="kicker">FUCK (Frequently Usked CKuestions)</span> ğŸ™‹â€â™€ï¸</span>
          <span class="caret" aria-hidden="true">â–¾</span>
        </summary>
        <div class="panel__content">
          <div class="content-inner faq">

            <div class="callout mag" role="note" aria-label="FAQ Jugadores y equipos">
              <h4>Â¿Para cuÃ¡ntos jugadores es? Â¿Se puede jugar en equipos?</h4>
              <p>GITSTER es un juego pensado para 4-7 jugadores ğŸš¶â€â™‚ï¸ğŸš¶â€â™€ï¸ğŸš¶ğŸš¶â€â™‚ï¸+ğŸš¶â€â™€ï¸ğŸš¶ğŸš¶â€â™‚ï¸</p>
              <p>Pero tranquilidad MÃ­ster Sociable / Miss Popularidad ğŸ˜, que si sois +8 jugadores, podÃ©is jugar en equipos, aunque tendrÃ©is que consensuar las decisiones de la Timeline y de las Apuestas ğŸ¤</p>
              <ul>
                <li>8 jugadores = 4 parejas ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ§‘â€ğŸ¤â€ğŸ§‘</li>
                <li>9 jugadores = 3 trÃ­os ğŸ‘ªğŸ‘ªğŸ‘ª Ã³ 3 parejas + 1 trÃ­o ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ‘ª</li>
                <li>10 jugadores = 5 parejas ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ§‘â€ğŸ¤â€ğŸ§‘</li>
                <li>11 jugadores = 3 trÃ­os + 1 pareja ğŸ‘ªğŸ‘ªğŸ‘ªğŸ§‘â€ğŸ¤â€ğŸ§‘</li>
                <li>12 jugadores = 4 trÃ­os ğŸ‘ªğŸ‘ªğŸ‘ªğŸ‘ª</li>
              </ul>
              <p>Y no os ponemos mÃ¡s ejemplos porque creemos que lo habÃ©is pillado (y porque sabemos que nadie tiene mÃ¡s de 12 amigos, tampoco os flipÃ©is tanto)</p>
            </div>

            <div class="callout" role="note" aria-label="FAQ Comprar cartas">
              <h4>Â¿Para quÃ© sirve comprar cartas?</h4>
              <p>Comprar cartas es una forma de gastar las fichas de apuesta que has conseguido. ğŸ¤‘</p>
              <p><strong>âš ï¸ Â¡Recuerda que no puedes acumular mÃ¡s de 10! ğŸ‘€</strong></p>
              <p>AdemÃ¡s, esto es un mecanismo que te permite alcanzar a los jugadores mÃ¡s aventajados de la partida si no te ha ido muy bien y te has quedado atrÃ¡s ğŸ“‰ğŸš€</p>
            </div>

          </div>
        </div>
      </details>

    </section>
  </main>

  <a class="fab" id="cheatsheetFab" href="#cheatsheet" aria-label="Ir a CHEATSHEET">Cheatsheet</a>

  <script>
(() => {
  const panels = Array.from(document.querySelectorAll('details.panel'));
  const DURATION = 280; // debe coincidir con el CSS (transition)

  const prefersReducedMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  const smoothBehavior = prefersReducedMotion ? 'auto' : 'smooth';

  function getContent(d){
    return d.querySelector('.
